<html>
	<body>
		<form method="GET" id='draw'  >
		<textarea id='jsonData' rows="40" cols="80" form='draw' >
		{ 
		 "message": "OK" , 
		 "chartType": "sBar" , 
		 "data": [
		     { "x": "2019.07.22", "color": 4},
		     { "x": "2019.07.23", "color": 4},
		     { "x": "2019.07.24", "color": 4},
		     { "x": "2019.07.25", "color": 7},
		     { "x": "2019.07.26", "color": 7},
		     { "x": "2019.07.27", "color": 7},
		     { "x": "2019.07.28", "color": 7},
		     { "x": "2019.07.29", "color": 7},
		     { "x": "2019.07.30", "color": 7},
		     { "x": "2019.07.31", "color": 7},
		     { "x": "2019.08.01", "color": 5},
		     { "x": "2019.08.02", "color": 5},
		     { "x": "2019.08.03", "color": 1},
		     { "x": "2019.08.04", "color": 1},
		     { "x": "2019.08.05", "color": 1},
		     { "x": "2019.08.06", "color": 1},
		     { "x": "2019.08.07", "color": 1},
		     { "x": "2019.08.08", "color": 2},
		     { "x": "2019.08.09", "color": 2},
		     { "x": "2019.08.10", "color": 2},
		     { "x": "2019.08.11", "color": 2},
		     { "x": "2019.08.12", "color": 2},
		     { "x": "2019.08.13", "color": 2},
		     { "x": "2019.08.14", "color": 7}
		  ] 
		 } 
		</textarea>
		<input type='submit' value='draw'  />
		</from>
		<svg id='chart' width="600" height="200">
			
		</svg>
	<script>
	  function draw() {
           var jd;
	   try {
           jd = JSON.parse(document.getElementById('jsonData').innerHTML);
           var svgFragment="";
           var x=0;
	   var color="";
           for (var i=0 ; i< jd.data.length; i++ ) {
	      switch ( jd.data[i].color ) {
		case 1:
		  color='169, 169, 169';
	          break;
	        case 2:
		  color='255, 140, 0';
	          break;
	        default:
	          color='0,0,0';
	      }
                  svgFragment=svgFragment+"<rect x="+(i*21)+" y=0 width=20 height=20 style='fill:rgb("+color+")' />";
	    }
            document.getElementById('chart').innerHTML=svgFragment;
	   } catch (err) {
	     alert(err);
	   }
	  }
	</script>
	</body>
</html>
